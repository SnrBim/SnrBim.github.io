

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

    .site-nav > ul.nav-list:first-child > li > a,
    
    .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(1)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a {
      background-image: none;
    }

    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }

    .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(1) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(1) > ul.nav-list {
      display: block;
    }
  </style>

  

  
    <script src="/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/assets/images/favicon.png" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Assign equip to schematic | Sener BimTools Docs</title>
<meta name="generator" content="Jekyll v3.9.5" />
<meta property="og:title" content="Assign equip to schematic" />
<meta property="og:locale" content="en" />
<meta name="description" content="This command allows you to automatically associate an MEP equipment (family) with one or more schematic diagrams (generic annotations) within the Revit model. It is designed to facilitate system documentation and tracking by linking real model elements to their schematic representations." />
<meta property="og:description" content="This command allows you to automatically associate an MEP equipment (family) with one or more schematic diagrams (generic annotations) within the Revit model. It is designed to facilitate system documentation and tracking by linking real model elements to their schematic representations." />
<link rel="canonical" href="https://snrbim.github.io/docs/assign-equip-to-schematic/" />
<meta property="og:url" content="https://snrbim.github.io/docs/assign-equip-to-schematic/" />
<meta property="og:site_name" content="Sener BimTools Docs" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Assign equip to schematic" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"This command allows you to automatically associate an MEP equipment (family) with one or more schematic diagrams (generic annotations) within the Revit model. It is designed to facilitate system documentation and tracking by linking real model elements to their schematic representations.","headline":"Assign equip to schematic","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://snrbim.github.io/assets/images/logo.png"}},"url":"https://snrbim.github.io/docs/assign-equip-to-schematic/"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/" class="site-title lh-tight"><img src="/assets/images/logo.png" width="56">
<pre> </pre>
<span class="fs-4">Sener BimTools Docs</span>
</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Common category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/1Common.html" class="nav-list-link">Common</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/cad-to-revit/" class="nav-list-link">Cad to Revit</a></li><li class="nav-list-item"><a href="/docs/change-level/" class="nav-list-link">Change level</a></li><li class="nav-list-item"><a href="/docs/create-along-path/" class="nav-list-link">Create along path</a></li><li class="nav-list-item"><a href="/docs/create-hangers/" class="nav-list-link">Create hangers</a></li><li class="nav-list-item"><a href="/docs/create-print-set/" class="nav-list-link">Create print set</a></li><li class="nav-list-item"><a href="/docs/create-worksets-from-excel/" class="nav-list-link">Create worksets from Excel</a></li><li class="nav-list-item"><a href="/docs/edit-elements-in-excel/" class="nav-list-link">Edit elements in Excel</a></li><li class="nav-list-item"><a href="/docs/history/" class="nav-list-link">History</a></li><li class="nav-list-item"><a href="/docs/info/" class="nav-list-link">Info</a></li><li class="nav-list-item"><a href="/docs/purge/" class="nav-list-link">Purge</a></li><li class="nav-list-item"><a href="/docs/read-parameters-from-excel/" class="nav-list-link">Read parameters from Excel</a></li><li class="nav-list-item"><a href="/docs/set-project-params/" class="nav-list-link">Set project params</a></li><li class="nav-list-item"><a href="/docs/show-cads/" class="nav-list-link">Show CADs</a></li><li class="nav-list-item"><a href="/docs/sync-space-params/" class="nav-list-link">Sync space params</a></li><li class="nav-list-item"><a href="/docs/tag-elements-on-views/" class="nav-list-link">Tag elements on views</a></li><li class="nav-list-item"><a href="/docs/textomorph/" class="nav-list-link">TextoMorph</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in MEC category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/2MEC.html" class="nav-list-link">MEC</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/assign-equip-to-schematic/" class="nav-list-link">Assign equip to schematic</a></li><li class="nav-list-item"><a href="/docs/assign-spaces-to-equipment/" class="nav-list-link">Assign spaces to equipment</a></li><li class="nav-list-item"><a href="/docs/create-dampers/" class="nav-list-link">Create dampers</a></li><li class="nav-list-item"><a href="/docs/pid-linker/" class="nav-list-link">P&ID Linker</a></li><li class="nav-list-item"><a href="/docs/set-ashrae-code/" class="nav-list-link">Set ASHRAE code</a></li><li class="nav-list-item"><a href="/docs/sync-air-flow-to-schematic/" class="nav-list-link">Sync air flow to schematic</a></li><li class="nav-list-item"><a href="/docs/sync-equip-to-schematic/" class="nav-list-link">Sync equip to schematic</a></li><li class="nav-list-item"><a href="/docs/sync-fire-alarm-diagram/" class="nav-list-link">Sync fire alarm diagram</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in ELE category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/docs/3ELE.html" class="nav-list-link">ELE</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/assign-circuit-to-conduits/" class="nav-list-link">Assign circuit to conduits</a></li><li class="nav-list-item"><a href="/docs/circuit-description/" class="nav-list-link">Circuit description</a></li><li class="nav-list-item"><a href="/docs/cloneshift/" class="nav-list-link">Clone&Shift</a></li><li class="nav-list-item"><a href="/docs/conduit-circuit-sync/" class="nav-list-link">Conduit circuit sync</a></li><li class="nav-list-item"><a href="/docs/convert-lines-to-wires/" class="nav-list-link">Convert lines to wires</a></li><li class="nav-list-item"><a href="/docs/count-sockets/" class="nav-list-link">Count sockets</a></li><li class="nav-list-item"><a href="/docs/create-sockets/" class="nav-list-link">Create sockets</a></li><li class="nav-list-item"><a href="/docs/sync-power-params/" class="nav-list-link">Sync power params</a></li></ul></li></ul>
  
</nav>




  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Sener BimTools Docs" aria-label="Search Sener BimTools Docs" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="https://github.com/SnrBim/BimTools/releases" class="site-button"
          
          target="_blank" rel="noopener noreferrer"
          
        >
          Downloads
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="toggleTheme" class="site-button"
          
          target="_blank" rel="noopener noreferrer"
          
        >
          üåô
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="langEn" class="site-button"
          
          target="_blank" rel="noopener noreferrer"
          
        >
          EN
        </a>
      </li>
    
      <li class="aux-nav-list-item">
        <a href="langEs" class="site-button"
          
          target="_blank" rel="noopener noreferrer"
          
        >
          ES
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/docs/2MEC.html">MEC</a></li>
    <li class="breadcrumb-nav-list-item"><span>Assign equip to schematic</span></li>
  </ol>
</nav>


      <div id="main-content" class="main-content">
        <main>
          
            <h1 class="no_toc" id="assign-equipment-to-schematic">
  
  
    <a href="#assign-equipment-to-schematic" class="anchor-heading" aria-labelledby="assign-equipment-to-schematic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Assign Equipment to Schematic
  
  
</h1>
    

<details open="">
  <summary class="text-delta">
    Table of contents
  </summary>
<ol id="markdown-toc">
  <li><a href="#general-description" id="markdown-toc-general-description">General Description</a></li>
  <li><a href="#core-functionality" id="markdown-toc-core-functionality">Core Functionality</a></li>
  <li><a href="#status-visualization-mode" id="markdown-toc-status-visualization-mode">Status Visualization Mode</a></li>
  <li><a href="#how-to-use" id="markdown-toc-how-to-use">How to Use</a>    <ol>
      <li><a href="#standard-assignment" id="markdown-toc-standard-assignment">Standard Assignment</a></li>
      <li><a href="#assignment-from-linked-files" id="markdown-toc-assignment-from-linked-files">Assignment from Linked Files</a></li>
    </ol>
  </li>
  <li><a href="#requirements-and-validations" id="markdown-toc-requirements-and-validations">Requirements and Validations</a></li>
</ol>

</details>
<h2 id="general-description">
  
  
    <a href="#general-description" class="anchor-heading" aria-labelledby="general-description"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Description
  
  
</h2>
    

<p>This command allows you to automatically associate an MEP equipment (family) with one or more schematic diagrams (generic annotations) within the Revit model. It is designed to facilitate system documentation and tracking by linking real model elements to their schematic representations.</p>

<p><img src=".\pic1.png" alt="image" /></p>
<h2 id="core-functionality">
  
  
    <a href="#core-functionality" class="anchor-heading" aria-labelledby="core-functionality"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Core Functionality
  
  
</h2>
    

<p>When the command is executed with an equipment and a schematic selected, it updates the following parameters in the schematic‚Äôs annotation:</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">SRS_MEP_Equipment_Id</code></strong>: Contains the ID, type, and name of the equipment.
    <ul>
      <li><em>Example: <code class="language-plaintext highlighter-rouge">123456 FamilyType: EquipmentName</code></em></li>
    </ul>
  </li>
  <li><strong><code class="language-plaintext highlighter-rouge">SRS_MEP_Link_Id</code></strong>: Indicates the origin of the equipment.
    <ul>
      <li>If it comes from a linked model, its name is displayed.</li>
      <li>If it belongs to the current model, it is indicated as ‚Äúcurrent model‚Äù.</li>
    </ul>
  </li>
</ul>
<h2 id="status-visualization-mode">
  
  
    <a href="#status-visualization-mode" class="anchor-heading" aria-labelledby="status-visualization-mode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Status Visualization Mode
  
  
</h2>
    

<p>If you run the command <strong>without selecting any elements</strong>, a graphical visualization mode is activated in the current view. This mode creates status circles over visible equipment to indicate if they are linked to a 2D schematic:</p>

<ul>
  <li><strong>Red Circle</strong>: The equipment is not linked to a 2D schematic.</li>
  <li><strong>Green Circle</strong>: The equipment is already linked to a 2D schematic.</li>
</ul>

<p>Running the command again with no selection will remove the status circles (it acts as a toggle).</p>
<h2 id="how-to-use">
  
  
    <a href="#how-to-use" class="anchor-heading" aria-labelledby="how-to-use"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Use
  
  
</h2>
    
<h3 id="standard-assignment">
  
  
    <a href="#standard-assignment" class="anchor-heading" aria-labelledby="standard-assignment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Standard Assignment
  
  
</h3>
    
<ol>
  <li>Select a single piece of equipment (family) from the active model.</li>
  <li>Select one or more annotations belonging to the <code class="language-plaintext highlighter-rouge">Generic Annotation</code> category.</li>
  <li>Run the <strong>Assign Equipment to Schematic</strong> command.</li>
  <li>A notification will confirm the assignment.</li>
</ol>
<h3 id="assignment-from-linked-files">
  
  
    <a href="#assignment-from-linked-files" class="anchor-heading" aria-labelledby="assignment-from-linked-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Assignment from Linked Files
  
  
</h3>
    
<p>You do not need to select the equipment directly inside the linked file.</p>
<ol>
  <li>Activate the <strong>Status Visualization Mode</strong> to see the colored circles.</li>
  <li>Select the <strong>status circle</strong> (red or green) over the equipment you want to link.</li>
  <li>Select the corresponding 2D schematic symbol.</li>
  <li>Run the command. The algorithm will automatically detect the correct link between the two elements.</li>
</ol>
<h2 id="requirements-and-validations">
  
  
    <a href="#requirements-and-validations" class="anchor-heading" aria-labelledby="requirements-and-validations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Requirements and Validations
  
  
</h2>
    

<ul>
  <li>For assignment, only <strong>one</strong> piece of equipment (or its status circle) must be selected. If more than one is selected, the command will show an error and stop.</li>
  <li>The annotations must be of the <strong>Generic Annotations</strong> category.</li>
</ul>

          

          
            
          
        </main>
        

  <hr>
  <footer>
    
      <p><a href="#top" id="back-to-top">Back to top</a></p>
    

    <script>

  function initDocumentFilter() {
    const checkboxes = document.querySelectorAll('.filter-checkbox');
    const docList = document.getElementById('doc-list');
    if (!(docList && checkboxes.length > 0)) return;

    const listItems = docList.getElementsByTagName('li');

    function filterDocs() {
      const checkedGroups = Array.from(checkboxes)
        .filter(i => i.checked)
        .map(i => i.value);
      for (const item of listItems) {
        const itemGroup = item.getAttribute('data-group');
        item.style.display = checkedGroups.length === 0 ||
                             checkedGroups.includes(itemGroup)
        ? ''
        : 'none';
      }
    }

    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', filterDocs);
    });

  }

  function initThemeToggle() {
    const toggleElem = document.querySelector('a[href*="toggleTheme"]');
    if (!toggleElem) return;

    function applyTheme(theme) {
      jtd.setTheme(theme);
      localStorage.setItem('jtd-theme', theme);
      toggleElem.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    }

    toggleElem.addEventListener('click', function(e) {
      e.preventDefault();
      const newTheme = jtd.getTheme() === 'dark' ? 'light' : 'dark';
      applyTheme(newTheme);
    });

    const savedTheme = localStorage.getItem('jtd-theme');
    if (savedTheme) {
      jtd.setTheme(savedTheme);
    }
    toggleElem.textContent = jtd.getTheme() === 'dark' ? '‚òÄÔ∏è' : 'üåô';
  }

  function initLangSwither() {
    const langEnLink = document.querySelector('a[href*="langEn"]');
    const langEsLink = document.querySelector('a[href*="langEs"]');

    const languageLinks = [];
    if (langEnLink) languageLinks.push(langEnLink);
    if (langEsLink) languageLinks.push(langEsLink);

    if (languageLinks.length === 0) return;

    const defaultLang = 'en'; // Assuming 'en' is the default language

    languageLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        let targetLang;
        if (this.href.includes('langEn')) {
          targetLang = 'en';
        } else if (this.href.includes('langEs')) {
          targetLang = 'es';
        }

        if (!targetLang) return; // Do nothing if language is not determined

        let currentPathname = window.location.pathname;

        // Remove existing language prefix if present
        const langRegex = /^\/(en|es)(\/|$)/; // Only 'en' and 'es'
        let pathWithoutLang = currentPathname.replace(langRegex, '/');

        // Ensure pathWithoutLang starts with a single slash
        if (!pathWithoutLang.startsWith('/')) {
          pathWithoutLang = '/' + pathWithoutLang;
        }

        let newPathname;
        if (targetLang === defaultLang) {
          newPathname = pathWithoutLang;
        } else {
          // Add new language prefix
          newPathname = `/${targetLang}${pathWithoutLang}`;
        }

        // Handle root path specifically
        if (pathWithoutLang === '/' && targetLang !== defaultLang) {
          newPathname = `/${targetLang}/`;
        } else if (pathWithoutLang === '/' && targetLang === defaultLang) {
          newPathname = '/';
        }

        // Construct full URL
        const newUrl = window.location.origin + newPathname + window.location.search;
        window.location.href = newUrl;
      });
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    initDocumentFilter();
    initThemeToggle();
    initLangSwither();
  });
</script>


    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

